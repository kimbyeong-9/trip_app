import React, { useState, useEffect } from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import styled from 'styled-components';
import Navigation from '../components/Navigation';

// Styled Components (DirectScheduleCreateÏôÄ ÎèôÏùºÌïú Íµ¨Ï°∞)
const DirectScheduleCreatePage = styled.div`
  min-height: 100vh;
  background: #f8f9fa;
  padding-top: 70px;
  padding-bottom: 20px;

  @media (max-width: 1024px) {
    padding-bottom: 100px;
  }
`;

const CreateContainer = styled.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 40px 20px;
`;

const PageHeader = styled.div`
  text-align: center;
  margin-bottom: 40px;
  position: relative;
`;

const BackButton = styled.button`
  position: absolute;
  left: 0;
  top: -10px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 12px;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
  font-size: 20px;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }
`;

const PageTitle = styled.h1`
  font-size: 32px;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 10px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
`;

const DateInfo = styled.div`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px 25px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 30px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  &:active {
    transform: translateY(0);
  }
`;

const FormSection = styled.div`
  background: white;
  border-radius: 20px;
  padding: 30px;
  margin-bottom: 25px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  border: 1px solid #f0f0f0;
`;

const SectionTitle = styled.h3`
  font-size: 20px;
  font-weight: 700;
  color: #2c3e50;
  margin: 0 0 20px 0;
  padding-bottom: 10px;
  border-bottom: 2px solid #f8f9fa;
`;

const FormGroup = styled.div`
  margin-bottom: 20px;

  &:last-child {
    margin-bottom: 0;
  }
`;

const Label = styled.label`
  display: block;
  font-size: 16px;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 8px;
`;

const Input = styled.input`
  width: 100%;
  padding: 12px 15px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  font-size: 16px;
  transition: all 0.3s ease;

  &:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }
`;

const TextArea = styled.textarea`
  width: 100%;
  padding: 12px 15px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  font-size: 16px;
  transition: all 0.3s ease;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;

  &:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }
`;

const KeywordButtonGroup = styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;

  @media (max-width: 768px) {
    flex-wrap: nowrap;
    overflow-x: auto;
    padding: 5px 0;

    &::-webkit-scrollbar {
      display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;

    & > * {
      flex-shrink: 0;
    }
  }
`;

const OptionButton = styled.button`
  background: ${props => props.$active ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 'white'};
  color: ${props => props.$active ? 'white' : '#667eea'};
  border: 2px solid #667eea;
  padding: 10px 20px;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: ${props => props.$active ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#f8f9ff'};
  }
`;

const LocationsSection = styled.div`
  background: white;
  border-radius: 20px;
  padding: 30px;
  margin-bottom: 25px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
`;

const DaySection = styled.div`
  background: white;
  border-radius: 20px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  border: 1px solid #f0f0f0;
`;

const DayTitle = styled.h4`
  font-size: 20px;
  font-weight: 700;
  color: #2c3e50;
  margin: 0 0 20px 0;
  padding-bottom: 10px;
  border-bottom: 2px solid #f8f9fa;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
`;

const DayHeader = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`;

const RemoveDayButton = styled.button`
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 6px 12px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: #c82333;
  }

  &:disabled {
    background: #6c757d;
    cursor: not-allowed;
  }
`;

const PlacesContainer = styled.div`
  margin-bottom: 20px;
`;

const AddedPlaceCard = styled.div`
  background: #f8f9fa;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  padding: 15px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.3s ease;
  cursor: pointer;

  &:hover {
    background: #e9ecef;
    border-color: #667eea;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
  }
`;

const AddedPlaceImage = styled.img`
  width: 50px;
  height: 50px;
  border-radius: 8px;
  object-fit: cover;
  background: #f0f0f0;

  &::before {
    content: 'üèûÔ∏è';
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    font-size: 20px;
    background: #f0f0f0;
  }
`;

const AddedPlaceInfo = styled.div`
  flex: 1;
`;

const AddedPlaceName = styled.h5`
  font-size: 16px;
  font-weight: 600;
  color: #2c3e50;
  margin: 0 0 5px 0;
`;

const AddedPlaceMeta = styled.div`
  display: flex;
  gap: 8px;
`;

const SmallBadge = styled.span`
  background: ${props => props.type === 'region' ? '#e8f4f8' : '#f8e8ff'};
  color: ${props => props.type === 'region' ? '#0c5460' : '#6f42c1'};
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 600;
`;

const DayAddButton = styled.button`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 12px;
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }
`;

const AddDayButton = styled.button`
  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
  color: white;
  border: none;
  border-radius: 15px;
  padding: 15px 30px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  margin-bottom: 30px;
  box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.6);
  }
`;

const AddDayIcon = styled.span`
  font-size: 20px;
`;

const SubmitButton = styled.button`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 12px;
  padding: 15px 40px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  margin-top: 30px;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`;

const ImageUploadSection = styled.div`
  margin-top: 20px;
`;

const ImageUploadBox = styled.div`
  border: 2px dashed #e9ecef;
  border-radius: 12px;
  padding: 30px;
  text-align: center;
  background: #f8f9fa;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;

  &:hover {
    border-color: #667eea;
    background: #f0f4ff;
  }

  &.dragover {
    border-color: #667eea;
    background: #e8f2ff;
  }
`;

const ImagePreview = styled.div`
  position: relative;
  display: inline-block;
  margin-top: 15px;
`;

const PreviewImage = styled.img`
  max-width: 200px;
  max-height: 200px;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
`;

const RemoveImageButton = styled.button`
  position: absolute;
  top: -8px;
  right: -8px;
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;

  &:hover {
    background: #c82333;
    transform: scale(1.1);
  }
`;

const ImageUploadText = styled.div`
  font-size: 16px;
  color: #495057;
  margin-bottom: 8px;
  font-weight: 600;
`;

const ImageUploadSubText = styled.div`
  font-size: 14px;
  color: #6c757d;
`;

const HiddenFileInput = styled.input`
  display: none;
`;

const DistanceIndicator = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 15px 0;
  gap: 15px;
`;

const Arrow = styled.div`
  color: #667eea;
  font-size: 24px;
`;

const DistanceText = styled.div`
  font-size: 14px;
  color: #6c757d;
  font-weight: 500;
`;

// Ïû•ÏÜå Í≤ÄÏÉâ Î™®Îã¨ Ïä§ÌÉÄÏùº
const LocationSearchModalOverlay = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
`;

const LocationSearchModalContainer = styled.div`
  background: white;
  border-radius: 20px;
  width: 90%;
  max-width: 800px;
  height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  animation: modalSlideIn 0.3s ease-out;

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
`;

const LocationSearchHeader = styled.div`
  padding: 20px 30px;
  border-bottom: 2px solid #f8f9fa;
  display: flex;
  justify-content: space-between;
  align-items: center;
`;

const LocationSearchTitle = styled.h2`
  font-size: 24px;
  font-weight: 700;
  color: #2c3e50;
  margin: 0;
`;

const CloseButton = styled.button`
  background: none;
  border: none;
  font-size: 24px;
  color: #6c757d;
  cursor: pointer;
  padding: 5px;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;

  &:hover {
    background: #f8f9fa;
    color: #2c3e50;
  }
`;

const SearchContent = styled.div`
  flex: 1;
  padding: 30px;
  overflow-y: auto;
`;

const SearchBox = styled.div`
  margin-bottom: 30px;
`;

const SearchInput = styled.input`
  width: 100%;
  padding: 15px 20px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  font-size: 16px;
  margin-bottom: 20px;
  transition: all 0.3s ease;

  &:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }
`;

const RegionSection = styled.div`
  margin-bottom: 20px;
`;

const RegionTitle = styled.h4`
  font-size: 16px;
  font-weight: 600;
  color: #2c3e50;
  margin: 0 0 10px 0;
`;

const RegionButtons = styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
`;

const RegionButton = styled.button`
  background: ${props => props.$active ? 'linear-gradient(135deg, #28a745 0%, #20c997 100%)' : 'white'};
  color: ${props => props.$active ? 'white' : '#28a745'};
  border: 2px solid #28a745;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: ${props => props.$active ? 'linear-gradient(135deg, #28a745 0%, #20c997 100%)' : '#f0fff4'};
  }
`;

const CategorySection = styled.div`
  margin-bottom: 30px;
`;

const CategoryTitle = styled.h4`
  font-size: 18px;
  font-weight: 600;
  color: #2c3e50;
  margin: 0 0 15px 0;
`;

const CategoryButtons = styled.div`
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
`;

const CategoryButton = styled.button`
  background: ${props => props.$active ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 'white'};
  color: ${props => props.$active ? 'white' : '#667eea'};
  border: 2px solid #667eea;
  padding: 10px 20px;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: ${props => props.$active ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#f8f9ff'};
  }
`;

const SearchResults = styled.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
  min-height: 200px;
`;

const EmptyResults = styled.div`
  grid-column: 1 / -1;
  background: #f8f9fa;
  border-radius: 12px;
  padding: 40px 20px;
  text-align: center;
  color: #6c757d;
  font-size: 16px;
`;

const PlaceCard = styled.div`
  background: white;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  border: 2px solid transparent;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: #667eea;
  }
`;

const PlaceImage = styled.img`
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 10px;
  margin-bottom: 15px;
`;

const PlaceInfo = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
`;

const PlaceName = styled.h4`
  font-size: 18px;
  font-weight: 700;
  color: #2c3e50;
  margin: 0;
  flex: 1;
`;

const PlaceRating = styled.div`
  background: linear-gradient(135deg, #ffd700 0%, #ffb700 100%);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  margin-left: 10px;
`;

const PlaceMeta = styled.div`
  display: flex;
  gap: 10px;
  margin-top: 10px;
`;

const PlaceRegion = styled.span`
  background: #e8f4f8;
  color: #0c5460;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: 600;
`;

const PlaceCategory = styled.span`
  background: #f8e8ff;
  color: #6f42c1;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: 600;
`;

// ÌôïÏù∏ Î™®Îã¨ Ïä§ÌÉÄÏùº
const ConfirmModalOverlay = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  padding: 20px;
`;

const ConfirmModalContainer = styled.div`
  background: white;
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  animation: modalSlideIn 0.3s ease-out;
`;

const ConfirmIcon = styled.div`
  font-size: 48px;
  margin-bottom: 20px;
`;

const ConfirmTitle = styled.h3`
  font-size: 24px;
  font-weight: 700;
  color: #2c3e50;
  margin: 0 0 15px 0;
`;

const ConfirmMessage = styled.p`
  font-size: 16px;
  color: #6c757d;
  margin: 0 0 30px 0;
  line-height: 1.6;
`;

const ConfirmButtons = styled.div`
  display: flex;
  gap: 15px;
  justify-content: center;
`;

const ConfirmButton = styled.button`
  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.5);
  }
`;

const CancelConfirmButton = styled.button`
  background: #6c757d;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    background: #5a6268;
  }
`;

const TravelScheduleEdit = () => {
  const navigate = useNavigate();
  const { id } = useParams();

  // ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Îêú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞
  const getCurrentUser = () => {
    try {
      const loginData = localStorage.getItem('loginData') || sessionStorage.getItem('loginData');
      return loginData ? JSON.parse(loginData) : null;
    } catch (error) {
      console.error('ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ Ïò§Î•ò:', error);
      return null;
    }
  };

  // Ìèº ÏÉÅÌÉú
  const [formData, setFormData] = useState({
    title: '',
    description: '',
    region: '',
    transportation: [],
    companions: '',
    accommodation: '',
    representativeImage: '',
  });

  // Ïû•ÏÜå Í≤ÄÏÉâ Í¥ÄÎ†® ÏÉÅÌÉú
  const [showLocationSearch, setShowLocationSearch] = useState(false);
  const [selectedCategory, setSelectedCategory] = useState('Ï†ÑÏ≤¥');
  const [selectedRegion, setSelectedRegion] = useState('Ï†ÑÏ≤¥');
  const [searchQuery, setSearchQuery] = useState('');
  const [showConfirmModal, setShowConfirmModal] = useState(false);
  const [selectedPlace, setSelectedPlace] = useState(null);
  const [targetDay, setTargetDay] = useState(1);

  // ÏÑ†ÌÉùÎêú Ïû•ÏÜåÎì§ Í¥ÄÎ¶¨ (ÏùºÏ∞®Î≥Ñ)
  const [dailyPlaces, setDailyPlaces] = useState({
    1: [] // 1ÏùºÏ∞®Î∂ÄÌÑ∞ ÏãúÏûë
  });

  // ÌòÑÏû¨ ÌôúÏÑ±ÌôîÎêú ÏùºÏ∞® Ïàò
  const [activeDays, setActiveDays] = useState(1);

  // ÎÇ†Ïßú Ï†ïÎ≥¥
  const [startDate, setStartDate] = useState('');
  const [endDate, setEndDate] = useState('');

  // Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
  useEffect(() => {
    const loadScheduleData = () => {
      try {
        const savedSchedules = JSON.parse(localStorage.getItem('userSchedules') || '[]');
        const scheduleToEdit = savedSchedules.find(schedule => schedule.id === id);

        if (scheduleToEdit) {
          setFormData({
            title: scheduleToEdit.title || '',
            description: scheduleToEdit.description || '',
            region: scheduleToEdit.region || '',
            transportation: scheduleToEdit.transportation || [],
            companions: scheduleToEdit.companions || '',
            accommodation: scheduleToEdit.accommodation || '',
            representativeImage: scheduleToEdit.image || '',
          });

          setStartDate(scheduleToEdit.startDate || '');
          setEndDate(scheduleToEdit.endDate || '');
          setActiveDays(scheduleToEdit.totalDays || 1);
          setDailyPlaces(scheduleToEdit.places || { 1: [] });
        }
      } catch (error) {
        console.error('ÏùºÏ†ï Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
      }
    };

    if (id) {
      loadScheduleData();
    }
  }, [id]);

  // Ï∂îÏ≤ú Ïû•ÏÜå Îç∞Ïù¥ÌÑ∞
  const recommendedPlaces = [
    { id: 1, name: 'Í≤ΩÎ≥µÍ∂Å', region: 'ÏÑúÏö∏', category: 'Ïó≠ÏÇ¨', rating: 4.5, image: 'https://picsum.photos/300/200?random=1' },
    { id: 2, name: 'NÏÑúÏö∏ÌÉÄÏõå', region: 'ÏÑúÏö∏', category: 'ÏïºÍ≤Ω', rating: 4.3, image: 'https://picsum.photos/300/200?random=2' },
    { id: 3, name: 'ÌôçÎåÄÏûÖÍµ¨', region: 'ÏÑúÏö∏', category: 'Îç∞Ïù¥Ìä∏', rating: 4.2, image: 'https://picsum.photos/300/200?random=3' },
    { id: 4, name: 'Ìï¥Ïö¥ÎåÄÌï¥ÏàòÏöïÏû•', region: 'Î∂ÄÏÇ∞', category: 'Ìú¥ÏñëÏßÄ', rating: 4.6, image: 'https://picsum.photos/300/200?random=4' },
    { id: 5, name: 'Í∞êÏ≤úÎ¨∏ÌôîÎßàÏùÑ', region: 'Î∂ÄÏÇ∞', category: 'Ï≤¥Ìóò', rating: 4.4, image: 'https://picsum.photos/300/200?random=5' },
    { id: 6, name: 'Ï†úÏ£ºÏò¨Î†àÍ∏∏', region: 'Ï†úÏ£º', category: 'ÏûêÏó∞', rating: 4.7, image: 'https://picsum.photos/300/200?random=6' },
    { id: 7, name: 'ÏÑ±ÏÇ∞ÏùºÏ∂úÎ¥â', region: 'Ï†úÏ£º', category: 'ÏûêÏó∞', rating: 4.8, image: 'https://picsum.photos/300/200?random=7' },
    { id: 8, name: 'Î™ÖÎèôÍµêÏûê', region: 'ÏÑúÏö∏', category: 'ÏùåÏãùÏ†ê', rating: 4.1, image: 'https://picsum.photos/300/200?random=8' },
    { id: 9, name: 'Ïä§ÌÉÄÎ≤ÖÏä§ ÏïïÍµ¨Ï†ïÏ†ê', region: 'ÏÑúÏö∏', category: 'Ïπ¥Ìéò', rating: 4.0, image: 'https://picsum.photos/300/200?random=9' },
    { id: 10, name: 'Î°ØÎç∞ÏõîÎìú', region: 'ÏÑúÏö∏', category: 'ÌÇ§Ï¶à', rating: 4.5, image: 'https://picsum.photos/300/200?random=10' }
  ];

  const handleInputChange = (field, value) => {
    setFormData(prev => ({
      ...prev,
      [field]: value
    }));
  };

  const handleOptionToggle = (field, option) => {
    setFormData(prev => ({
      ...prev,
      [field]: prev[field].includes(option)
        ? prev[field].filter(item => item !== option)
        : [...prev[field], option]
    }));
  };

  // Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú Ï≤òÎ¶¨ Ìï®Ïàò
  const handleImageUpload = (event) => {
    const file = event.target.files[0];
    if (file) {
      if (file.size > 5 * 1024 * 1024) {
        alert('ÌååÏùº ÌÅ¨Í∏∞Îäî 5MB Ïù¥ÌïòÎ°ú ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
        return;
      }

      if (!file.type.startsWith('image/')) {
        alert('Ïù¥ÎØ∏ÏßÄ ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.');
        return;
      }

      const reader = new FileReader();
      reader.onload = (e) => {
        setFormData(prev => ({
          ...prev,
          representativeImage: e.target.result
        }));
      };
      reader.readAsDataURL(file);
    }
  };

  // Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú Ìï®Ïàò
  const handleImageRemove = () => {
    setFormData(prev => ({
      ...prev,
      representativeImage: ''
    }));
  };

  // ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ï≤òÎ¶¨
  const handleDragOver = (e) => {
    e.preventDefault();
    e.currentTarget.classList.add('dragover');
  };

  const handleDragLeave = (e) => {
    e.preventDefault();
    e.currentTarget.classList.remove('dragover');
  };

  const handleDrop = (e) => {
    e.preventDefault();
    e.currentTarget.classList.remove('dragover');

    const files = e.dataTransfer.files;
    if (files.length > 0) {
      const file = files[0];
      if (file.type.startsWith('image/')) {
        if (file.size > 5 * 1024 * 1024) {
          alert('ÌååÏùº ÌÅ¨Í∏∞Îäî 5MB Ïù¥ÌïòÎ°ú ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
          return;
        }

        const reader = new FileReader();
        reader.onload = (e) => {
          setFormData(prev => ({
            ...prev,
            representativeImage: e.target.result
          }));
        };
        reader.readAsDataURL(file);
      } else {
        alert('Ïù¥ÎØ∏ÏßÄ ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.');
      }
    }
  };

  const addLocation = (day = 1) => {
    setTargetDay(day);
    setShowLocationSearch(true);
  };

  // Ïû•ÏÜå ÌïÑÌÑ∞ÎßÅ Ìï®Ïàò
  const getFilteredPlaces = () => {
    return recommendedPlaces.filter(place => {
      const matchesRegion = selectedRegion === 'Ï†ÑÏ≤¥' || place.region === selectedRegion;
      const matchesCategory = selectedCategory === 'Ï†ÑÏ≤¥' || place.category === selectedCategory;
      const matchesSearch = !searchQuery || place.name.toLowerCase().includes(searchQuery.toLowerCase());
      return matchesRegion && matchesCategory && matchesSearch;
    });
  };

  // Ïû•ÏÜå ÏÑ†ÌÉù Ìï∏Îì§Îü¨
  const handlePlaceSelect = (place) => {
    setSelectedPlace(place);
    setShowConfirmModal(true);
  };

  // Í∏∞Ï°¥ Ïû•ÏÜå Ïπ¥Îìú ÌÅ¥Î¶≠ Ïãú Ïû¨ÏÑ†ÌÉù
  const handleExistingPlaceClick = (day, placeIndex) => {
    setTargetDay(day);
    setShowLocationSearch(true);
  };

  // Ïû•ÏÜå Ï∂îÍ∞Ä ÌôïÏ†ï
  const confirmAddPlace = () => {
    if (!selectedPlace) return;

    setDailyPlaces(prev => ({
      ...prev,
      [targetDay]: [...(prev[targetDay] || []), { ...selectedPlace, addedAt: Date.now() }]
    }));

    setShowConfirmModal(false);
    setShowLocationSearch(false);
    setSelectedPlace(null);
  };

  // Í∞ÑÎã®Ìïú Í±∞Î¶¨ Í≥ÑÏÇ∞ Ìï®Ïàò
  const calculateDistance = (place1, place2) => {
    const distance = Math.floor(Math.random() * 20 + 1);
    return { distance };
  };

  // ÏùºÏ∞® Ï∂îÍ∞Ä Ìï®Ïàò
  const addDay = () => {
    const newDay = activeDays + 1;
    setActiveDays(newDay);
    setDailyPlaces(prev => ({
      ...prev,
      [newDay]: []
    }));
  };

  // ÏùºÏ∞® Ï†úÍ±∞ Ìï®Ïàò
  const removeDay = (day) => {
    if (day === 1 || activeDays <= 1) return;

    const newDailyPlaces = { ...dailyPlaces };
    delete newDailyPlaces[day];

    const reorderedPlaces = {};
    let newDayCounter = 1;

    for (let i = 1; i <= activeDays; i++) {
      if (i !== day && newDailyPlaces[i]) {
        reorderedPlaces[newDayCounter] = newDailyPlaces[i];
        newDayCounter++;
      }
    }

    setDailyPlaces(reorderedPlaces);
    setActiveDays(activeDays - 1);
  };

  const handleSubmit = () => {
    // Í≤ÄÏ¶ù Î°úÏßÅ
    if (!formData.title.trim()) {
      alert('Ïó¨Ìñâ Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    if (!formData.description.trim()) {
      alert('Ïó¨Ìñâ ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    if (!formData.region) {
      alert('Ïó¨Ìñâ ÏßÄÏó≠ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    if (formData.transportation.length === 0) {
      alert('ÍµêÌÜµÏàòÎã®ÏùÑ ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    if (!formData.accommodation.trim()) {
      alert('ÏàôÎ∞ï Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    if (!formData.companions.trim()) {
      alert('ÎèôÌñâÏù∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    const hasPlaces = Object.values(dailyPlaces).some(places => places.length > 0);
    if (!hasPlaces) {
      alert('Ïó¨Ìñâ ÏùºÏ†ïÏóê ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅÏùò Ïû•ÏÜåÎ•º Ï∂îÍ∞ÄÌï¥Ï£ºÏÑ∏Ïöî.');
      return;
    }

    try {
      // Í∏∞Ï°¥ ÏùºÏ†ï Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞
      const existingSchedules = JSON.parse(localStorage.getItem('userSchedules') || '[]');

      // ÏàòÏ†ïÎêú ÏùºÏ†ï Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
      const updatedSchedule = {
        id: id,
        title: formData.title,
        region: formData.region,
        transportation: formData.transportation,
        companions: formData.companions,
        accommodation: formData.accommodation,
        startDate: startDate,
        endDate: endDate,
        date: `${startDate} ~ ${endDate}`,
        duration: `${activeDays}Î∞ï ${activeDays + 1}Ïùº`,
        places: dailyPlaces,
        totalDays: activeDays,
        author: {
          name: getCurrentUser()?.user?.name || 'Ïó¨ÌñâÏûê',
          profileImage: getCurrentUser()?.user?.profileImage || 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100&h=100&fit=crop&crop=face'
        },
        image: formData.representativeImage || Object.values(dailyPlaces).flat()[0]?.image || 'https://picsum.photos/300/200?random=1',
        description: formData.description,
        updatedAt: new Date().toISOString(),
        tags: [formData.region, ...formData.transportation],
        views: 1,
        likes: 0
      };

      // Í∏∞Ï°¥ ÏùºÏ†ï ÏóÖÎç∞Ïù¥Ìä∏
      const updatedSchedules = existingSchedules.map(schedule =>
        schedule.id === id ? updatedSchedule : schedule
      );

      // localStorageÏóê Ï†ÄÏû•
      localStorage.setItem('userSchedules', JSON.stringify(updatedSchedules));

      alert('ÏùºÏ†ïÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§!');
      navigate(-1); // Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
    } catch (error) {
      console.error('ÏùºÏ†ï ÏàòÏ†ï Ïò§Î•ò:', error);
      alert('ÏùºÏ†ï ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.');
    }
  };

  return (
    <DirectScheduleCreatePage>
      <Navigation />

      <CreateContainer>
        <PageHeader>
          <BackButton onClick={() => navigate(-1)}>
            ‚Üê
          </BackButton>
          <PageTitle>Ïó¨Ìñâ ÏùºÏ†ï ÏàòÏ†ï</PageTitle>
          {startDate && endDate && (
            <DateInfo>
              {startDate} ~ {endDate}
            </DateInfo>
          )}
        </PageHeader>

        <FormSection>
          <SectionTitle>Í∏∞Î≥∏ Ï†ïÎ≥¥</SectionTitle>

          <FormGroup>
            <Label>Ï†úÎ™©</Label>
            <Input
              type="text"
              placeholder="Ïó¨Ìñâ Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
              value={formData.title}
              onChange={(e) => handleInputChange('title', e.target.value)}
            />
          </FormGroup>

          <FormGroup>
            <Label>Ïó¨Ìñâ ÏÑ§Î™Ö</Label>
            <TextArea
              placeholder="Ïó¨ÌñâÏóê ÎåÄÌïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
              value={formData.description}
              onChange={(e) => handleInputChange('description', e.target.value)}
              rows={3}
            />
          </FormGroup>

          <FormGroup>
            <Label>Í∞ôÏù¥ Í∞Ñ ÏÇ¨Îûå</Label>
            <Input
              type="text"
              placeholder="ÎèôÌñâÏù∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî (Ïòà: ÏπúÍµ¨ 2Î™Ö, Í∞ÄÏ°± 4Î™Ö)"
              value={formData.companions}
              onChange={(e) => handleInputChange('companions', e.target.value)}
            />
          </FormGroup>

          <FormGroup>
            <Label>ÎåÄÌëúÏÇ¨ÏßÑ</Label>
            <ImageUploadSection>
              {!formData.representativeImage ? (
                <ImageUploadBox
                  onClick={() => document.getElementById('imageUpload').click()}
                  onDragOver={handleDragOver}
                  onDragLeave={handleDragLeave}
                  onDrop={handleDrop}
                >
                  <ImageUploadText>ÎåÄÌëúÏÇ¨ÏßÑÏùÑ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî</ImageUploadText>
                  <ImageUploadSubText>
                    ÌÅ¥Î¶≠ÌïòÍ±∞ÎÇò ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ÏúºÎ°ú Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú (ÏµúÎåÄ 5MB)
                  </ImageUploadSubText>
                  <HiddenFileInput
                    id="imageUpload"
                    type="file"
                    accept="image/*"
                    onChange={handleImageUpload}
                  />
                </ImageUploadBox>
              ) : (
                <ImagePreview>
                  <PreviewImage
                    src={formData.representativeImage}
                    alt="ÎåÄÌëúÏÇ¨ÏßÑ ÎØ∏Î¶¨Î≥¥Í∏∞"
                  />
                  <RemoveImageButton onClick={handleImageRemove}>
                    √ó
                  </RemoveImageButton>
                </ImagePreview>
              )}
            </ImageUploadSection>
          </FormGroup>
        </FormSection>

        <FormSection>
          <SectionTitle>Ïó¨Ìñâ Ï†ïÎ≥¥</SectionTitle>

          <FormGroup>
            <Label>ÏßÄÏó≠</Label>
            <KeywordButtonGroup>
              {['ÏÑúÏö∏', 'Î∂ÄÏÇ∞', 'Ï†úÏ£º', 'Í≤ΩÍ∏∞', 'Í∞ïÏõê', 'Ï†ÑÎùº', 'Ï∂©Ï≤≠', 'Í≤ΩÏÉÅ', 'Ïù∏Ï≤ú'].map(region => (
                <OptionButton
                  key={region}
                  $active={formData.region === region}
                  onClick={() => handleInputChange('region', region)}
                >
                  {region}
                </OptionButton>
              ))}
            </KeywordButtonGroup>
          </FormGroup>

          <FormGroup>
            <Label>ÍµêÌÜµÌé∏ (Î≥µÏàò ÏÑ†ÌÉù Í∞ÄÎä•)</Label>
            <KeywordButtonGroup>
              {['ÏûêÎèôÏ∞®', 'Í∏∞Ï∞®', 'Î≤ÑÏä§', 'ÎπÑÌñâÍ∏∞', 'Î∞∞', 'ÎèÑÎ≥¥', 'ÏûêÏ†ÑÍ±∞'].map(option => (
                <OptionButton
                  key={option}
                  $active={formData.transportation.includes(option)}
                  onClick={() => handleOptionToggle('transportation', option)}
                >
                  {option}
                </OptionButton>
              ))}
            </KeywordButtonGroup>
          </FormGroup>

          <FormGroup>
            <Label>ÏàôÏÜå Ï¢ÖÎ•ò</Label>
            <KeywordButtonGroup>
              {['Ìò∏ÌÖî', 'ÌéúÏÖò', 'Î¶¨Ï°∞Ìä∏', 'Í≤åÏä§Ìä∏ÌïòÏö∞Ïä§', 'ÎØºÎ∞ï', 'Ï∫†Ìïë', 'ÏóêÏñ¥ÎπÑÏï§ÎπÑ'].map(option => (
                <OptionButton
                  key={option}
                  $active={formData.accommodation === option}
                  onClick={() => handleInputChange('accommodation', option)}
                >
                  {option}
                </OptionButton>
              ))}
            </KeywordButtonGroup>
          </FormGroup>
        </FormSection>

        <LocationsSection>
          <SectionTitle>Î∞©Î¨∏ Ïû•ÏÜå</SectionTitle>

          {Array.from({ length: activeDays }, (_, index) => {
            const day = index + 1;
            const dayPlaceList = dailyPlaces[day] || [];

            return (
              <DaySection key={day}>
                <DayHeader>
                  <DayTitle>{day}ÏùºÏ∞®</DayTitle>
                  {activeDays > 1 && (
                    <RemoveDayButton
                      onClick={() => removeDay(day)}
                      disabled={day === 1}
                    >
                      ÏÇ≠Ï†ú
                    </RemoveDayButton>
                  )}
                </DayHeader>

                {dayPlaceList.length > 0 && (
                  <PlacesContainer>
                    {dayPlaceList.map((place, idx) => (
                      <div key={`${place.id}-${place.addedAt}`}>
                        <AddedPlaceCard onClick={() => handleExistingPlaceClick(day, idx)}>
                          <AddedPlaceImage src={place.image} alt={place.name} />
                          <AddedPlaceInfo>
                            <AddedPlaceName>{place.name}</AddedPlaceName>
                            <AddedPlaceMeta>
                              <SmallBadge type="region">{place.region}</SmallBadge>
                              <SmallBadge type="category">{place.category}</SmallBadge>
                            </AddedPlaceMeta>
                          </AddedPlaceInfo>
                        </AddedPlaceCard>

                        {idx < dayPlaceList.length - 1 && (
                          <DistanceIndicator>
                            <Arrow>‚Üì</Arrow>
                            <DistanceText>
                              {(() => {
                                const { distance } = calculateDistance(place, dayPlaceList[idx + 1]);
                                return `${distance}km`;
                              })()}
                            </DistanceText>
                          </DistanceIndicator>
                        )}
                      </div>
                    ))}
                  </PlacesContainer>
                )}

                <DayAddButton onClick={() => addLocation(day)}>
                  Ïû•ÏÜå Ï∂îÍ∞Ä +
                </DayAddButton>
              </DaySection>
            );
          })}

          <AddDayButton onClick={addDay}>
            <AddDayIcon>+</AddDayIcon>
            {activeDays + 1}ÏùºÏ∞® Ï∂îÍ∞Ä
          </AddDayButton>
        </LocationsSection>

        <SubmitButton onClick={handleSubmit}>
          ÏùºÏ†ï ÏàòÏ†ïÌïòÍ∏∞
        </SubmitButton>
      </CreateContainer>

      {/* Ïû•ÏÜå Í≤ÄÏÉâ Î™®Îã¨ */}
      {showLocationSearch && (
        <LocationSearchModalOverlay onClick={() => setShowLocationSearch(false)}>
          <LocationSearchModalContainer onClick={(e) => e.stopPropagation()}>
            <LocationSearchHeader>
              <LocationSearchTitle>Ïû•ÏÜå Í≤ÄÏÉâ</LocationSearchTitle>
              <CloseButton onClick={() => setShowLocationSearch(false)}>
                √ó
              </CloseButton>
            </LocationSearchHeader>

            <SearchContent>
              <SearchBox>
                <SearchInput
                  type="text"
                  placeholder="Ïû•ÏÜåÎ™ÖÏùÑ Í≤ÄÏÉâÌïòÏÑ∏Ïöî (Ïòà: Í≤ΩÎ≥µÍ∂Å, NÏÑúÏö∏ÌÉÄÏõå)"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                />
              </SearchBox>

              <RegionSection>
                <RegionTitle>ÏßÄÏó≠</RegionTitle>
                <RegionButtons>
                  {['Ï†ÑÏ≤¥', 'ÏÑúÏö∏', 'Î∂ÄÏÇ∞', 'Ï†úÏ£º', 'Í≤ΩÍ∏∞', 'Í∞ïÏõê', 'Ï†ÑÎùº', 'Ï∂©Ï≤≠', 'Í≤ΩÏÉÅ', 'Ïù∏Ï≤ú'].map(region => (
                    <RegionButton
                      key={region}
                      $active={selectedRegion === region}
                      onClick={() => setSelectedRegion(region)}
                    >
                      {region}
                    </RegionButton>
                  ))}
                </RegionButtons>
              </RegionSection>

              <CategorySection>
                <CategoryTitle>Ïπ¥ÌÖåÍ≥†Î¶¨</CategoryTitle>
                <CategoryButtons>
                  {['Ï†ÑÏ≤¥', 'ÏùåÏãùÏ†ê', 'Ïπ¥Ìéò', 'ÌÇ§Ï¶à', 'Ìú¥ÏñëÏßÄ', 'ÏûêÏó∞', 'Ï≤¥Ìóò', 'Ï†ÑÏãú', 'Î†àÌè¨Ï∏†', 'Ï∂ïÏ†úÍ≥µÏó∞', 'Ïó≠ÏÇ¨', 'ÏàôÎ∞ï', 'ÏïºÍ≤Ω', 'Îç∞Ïù¥Ìä∏'].map(category => (
                    <CategoryButton
                      key={category}
                      $active={selectedCategory === category}
                      onClick={() => setSelectedCategory(category)}
                    >
                      {category}
                    </CategoryButton>
                  ))}
                </CategoryButtons>
              </CategorySection>

              <SearchResults>
                {getFilteredPlaces().length > 0 ? (
                  getFilteredPlaces().map(place => (
                    <PlaceCard key={place.id} onClick={() => handlePlaceSelect(place)}>
                      <PlaceImage src={place.image} alt={place.name} />
                      <PlaceInfo>
                        <PlaceName>{place.name}</PlaceName>
                        <PlaceRating>‚≠ê {place.rating}</PlaceRating>
                      </PlaceInfo>
                      <PlaceMeta>
                        <PlaceRegion>{place.region}</PlaceRegion>
                        <PlaceCategory>{place.category}</PlaceCategory>
                      </PlaceMeta>
                    </PlaceCard>
                  ))
                ) : (
                  <EmptyResults>
                    ÏÑ†ÌÉùÌïú Ï°∞Í±¥Ïóê ÎßûÎäî Ïû•ÏÜåÍ∞Ä ÏóÜÏäµÎãàÎã§.<br />
                    Îã§Î•∏ ÏßÄÏó≠Ïù¥ÎÇò Ïπ¥ÌÖåÍ≥†Î¶¨Î•º ÏÑ†ÌÉùÌï¥Î≥¥ÏÑ∏Ïöî.
                  </EmptyResults>
                )}
              </SearchResults>
            </SearchContent>
          </LocationSearchModalContainer>
        </LocationSearchModalOverlay>
      )}

      {/* Ïû•ÏÜå ÏÑ†ÌÉù ÌôïÏù∏ Î™®Îã¨ */}
      {showConfirmModal && selectedPlace && (
        <ConfirmModalOverlay>
          <ConfirmModalContainer>
            <ConfirmIcon>üìç</ConfirmIcon>
            <ConfirmTitle>Ïû•ÏÜå Ï∂îÍ∞Ä</ConfirmTitle>
            <ConfirmMessage>
              <strong>{selectedPlace.name}</strong>ÏùÑ(Î•º)<br />
              ÏùºÏ†ïÏóê Ï∂îÍ∞ÄÌïòÏãúÍ≤†ÏäµÎãàÍπå?
            </ConfirmMessage>
            <ConfirmButtons>
              <ConfirmButton onClick={confirmAddPlace}>
                Ï∂îÍ∞Ä
              </ConfirmButton>
              <CancelConfirmButton onClick={() => setShowConfirmModal(false)}>
                Ï∑®ÏÜå
              </CancelConfirmButton>
            </ConfirmButtons>
          </ConfirmModalContainer>
        </ConfirmModalOverlay>
      )}
    </DirectScheduleCreatePage>
  );
};

export default TravelScheduleEdit;